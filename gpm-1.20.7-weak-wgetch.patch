--- gpm-1.99.7/src/lib/libcurses.c.0005~	2015-07-27 22:53:48.040311220 +0200
+++ gpm-1.99.7/src/lib/libcurses.c	2015-07-27 23:36:26.608918472 +0200
@@ -42,7 +42,12 @@
 #   endif                       /* HAVE_NCURSES_CURSES_H */
 #endif                          /* HAVE_NCURSES_H */
 
-#define GET(win) ((win) ? wgetch(win) : getch())
+/* If win != NULL, it must have been created by ncurses anyway.
+   Avoid circular library dependencies.  */
+#pragma weak wgetch
+#pragma weak stdscr
+
+#define GET(win) ((win && wgetch) ? wgetch(win) : getch())
 
 int Gpm_Wgetch(WINDOW * win)
 {
